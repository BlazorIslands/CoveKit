@namespace CoveKit

@implements ICoveKitComponent
@implements IBorderable
@implements IShadowable
@implements IBackgroundColorable
@implements IResizable
@implements IRoundable

<div @attributes="AdditionalAttributes"
     class="p-2 m-2 ck-card @Class @(Border ? "ck-border" : "ck-no-border") @(Shadow ? "ck-shadow" : "ck-no-shadow") @(Round ? "ck-card-round" : string.Empty)"
     style="@Style @(SetShadowColor(Shadow, ShadowColor)) @(SetBorderColor(Border, BorderColor)) @(SetBackgroundColor(BackgroundColor)) @(SetSize(Width, Height))">
     @ChildContent
</div>

@code {
    [Parameter] public string? Class { get; set; }
    [Parameter] public string? Style { get; set; }
    [Parameter] public bool Round { get; set; }
    [Parameter] public bool Border { get; set; }
    [Parameter] public CoveColor BorderColor { get; set; }
    [Parameter] public bool Shadow { get; set; }
    [Parameter] public CoveColor ShadowColor { get; set; }
    [Parameter] public CoveColor BackgroundColor { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public int Width { get; set; }
    [Parameter] public int Height { get; set; }
    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object> AdditionalAttributes { get; set; }

    public string SetShadowColor(bool shadow, CoveColor shadowColor) => shadow ? $"box-shadow: 10px 10px 0 0 {shadowColor};" : string.Empty;

    public string SetBorderColor(bool border, CoveColor borderColor) => border ? $"border-color: {borderColor};" : string.Empty;

    public string SetBackgroundColor(CoveColor backgroundColor) => $"background-color: {backgroundColor};";

    public string SetSize(int width, int height) => $"width: {width}%; height: {height}%;";
}
